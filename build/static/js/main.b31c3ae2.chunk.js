(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{1:function(e,t,a){e.exports={contain:"mystyle_contain__2A1z_",boxstyle:"mystyle_boxstyle__N5hDV",boxstyle2:"mystyle_boxstyle2__LLeyz",boxstyle3:"mystyle_boxstyle3__1YipR",boxstyle4:"mystyle_boxstyle4__3bPyY",fullFormStyle:"mystyle_fullFormStyle__2jBGk",formTitle:"mystyle_formTitle__wRqrb",bottomText:"mystyle_bottomText__2H7O0",errorText:"mystyle_errorText__1yoAM",buttonStyle:"mystyle_buttonStyle__3GLRi",infoBox:"mystyle_infoBox__38fi0",iconStyle:"mystyle_iconStyle__3Nr_n",smallText:"mystyle_smallText__a0Zi5",statBoxes:"mystyle_statBoxes__2RSlQ",topImg:"mystyle_topImg__2R6yF",headerStyle:"mystyle_headerStyle__3_uem"}},171:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(63),r=a.n(i),s=a(4),o=a(5),c=a(2),m=a(7),u=a(6),h=a(3),d=a(8),p=(a(71),a(13)),g=a(23);var E,b={position:"fixed",backgroundColor:"#004d00",top:"0",right:"0",height:"100%",width:"70%",zIndex:"50"},y={textAlign:"right",padding:"5px",marginRight:"10px"},f={display:"block",marginTop:"20px",padding:"20px",width:"100%",color:"#fff",fontSize:"20px",background:"#227D26",borderLeft:"6px solid",borderColor:"#003300"},v={position:"fixed",backgroundColor:"#000",opacity:"0.3",top:"0",left:"0",height:"100%",width:"100%",zIndex:"50"},x={color:"#fff",fontSize:"46px",display:"flex",verticalAlign:"middle",lineHeight:"normal"},O=function(){var e,t,a=Object(n.useState)(!1),i=Object(g.a)(a,2),r=i[0],s=i[1];return r&&(e=l.a.createElement("div",{style:b},l.a.createElement("h1",{style:y,onClick:function(){return s(!1)}},"X"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(h.b,{to:"/",style:f,onClick:function(){return s(!1)}},"Main")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/about",style:f,onClick:function(){return s(!1)}},"About")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/settings",style:f,onClick:function(){return s(!1)}},"Settings")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/login",style:f,onClick:function(){s(!1),localStorage.clear()}},"Log Out")))),t=l.a.createElement("div",{style:v,onClick:function(){return s(!1)}})),l.a.createElement("nav",null,l.a.createElement("span",{style:x,onClick:function(){return s(!r)}},l.a.createElement("ion-icon",{name:"menu"})),t,e)},S=a(1),j=a.n(S);var k=(E={width:"100%"},Object(p.a)(E,"width","200px"),Object(p.a)(E,"right","0"),E),C={width:"100%"},w={width:"24px"},N=function(){return null!==localStorage.getItem("token")?l.a.createElement("header",{className:j.a.headerStyle},l.a.createElement("div",{style:w}),l.a.createElement("h1",{style:k},"Alpome"),l.a.createElement(O,{style:w})):l.a.createElement("header",{className:j.a.headerStyle},l.a.createElement("h1",{style:C},"Alpome"))},_=function(e){return fetch("/api/users/"+e).then((function(e){return e.json()}))},T=function(e){return fetch("/api/growing_unit/"+e).then((function(e){return e.json()}))},U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={units:[]},n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.getUnits=n.getUnits.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"getUnits",value:function(e){var t=this;_(e).then((function(e){t.setState({units:e.own_units})}))}},{key:"handleSubmit",value:function(e){localStorage.getItem("currentUser");e.preventDefault(),this.state.units.map((function(e){console.log("units: "+e.nickname)}))}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("currentUser");this.getUnits(e)}},{key:"render",value:function(){return null!==this.state.units?this.state.units.map((function(e){return l.a.createElement(h.b,{to:"/unit/".concat(e.unit_id),key:e.unit_id},l.a.createElement("div",{className:j.a.boxstyle},l.a.createElement("img",{src:"",alt:"img",className:j.a.iconStyle}),l.a.createElement("p",null,e.nickname)))})):l.a.createElement("div",{className:j.a.boxstyle},l.a.createElement("p",null,"No units"))}}]),a}(l.a.Component),I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){null===localStorage.getItem("token")&&this.props.history.push("/login")}},{key:"render",value:function(){return l.a.createElement("div",null)}}]),a}(l.a.Component),D=Object(d.f)(I);var A=function(e){return l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(N,null),l.a.createElement(U,null),l.a.createElement(h.b,{to:"/addnew"},l.a.createElement("div",{className:j.a.boxstyle2},l.a.createElement("img",{src:"",alt:"img",className:j.a.iconStyle}),l.a.createElement("p",null,"Add new unit +"))))};var R=function(){return l.a.createElement("div",{className:j.a.infoBox},l.a.createElement("h1",null,"About us"),l.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."))};var L=function(){return l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(N,null),l.a.createElement(R,null))},M=a(11),P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).doLogin=function(){(function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("/api/login/",a).then((function(e){return e.json()}))})(n.state.user.username,n.state.user.password).then((function(e){if(void 0!==e.user){var t=n.props.setUser(e.user);return localStorage.setItem("token",e.token),localStorage.setItem("currentUser",e.user.user_id),n.props.history.push("/"),t}n.setState({errorMessage:"Username or password is incorrect."})})).catch((function(e){console.log(e)}))},n.state={user:{username:"",password:""},errorMessage:"",validUser:!0},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.doLogin=n.doLogin.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState((function(e){return{user:Object(M.a)(Object(M.a)({},e.user),{},Object(p.a)({},n,a))}}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.doLogin()}},{key:"render",value:function(){return l.a.createElement("div",{className:j.a.fullFormStyle},l.a.createElement("h1",{className:j.a.formTitle},"Login"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Username"),l.a.createElement("input",{type:"text",name:"username",id:"username",label:"Username",value:this.state.user.username,onChange:this.handleChange}),l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",name:"password",id:"password",label:"Password",value:this.state.user.password,onChange:this.handleChange}),l.a.createElement("div",null,l.a.createElement("p",{className:j.a.errorText},this.state.errorMessage)),l.a.createElement("div",{className:j.a.bottomText},l.a.createElement("p",null,"Don't have an account?"),l.a.createElement(h.b,{to:"/signup"},"Sign up here!"),l.a.createElement("p",null,"\n")),l.a.createElement("button",{type:"submit",className:j.a.buttonStyle},"Login")))}}]),a}(l.a.Component),H=Object(d.f)(P),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(N,null),l.a.createElement(H,{setUser:this.props.setUser}))}}]),a}(l.a.Component),z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){if(e.preventDefault(),n.state.user.password===n.state.user.checkPw){var t=Object(M.a)({},n.state.user);delete t.checkPw,function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/api/users/",t).then((function(e){return e.json()}))}(t).then((function(e){void 0!==e.error?n.setState({errorMessage:"Cannot signup. Username, password or email needs to be changed."}):n.props.history.push("/login")}))}else n.setState({errorMessage:"Passwords do not match."})},n.state={user:{username:"",email:"",password:"",checkPw:""},errorMessage:""},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState((function(e){return{user:Object(M.a)(Object(M.a)({},e.user),{},Object(p.a)({},n,a))}}))}},{key:"render",value:function(){return l.a.createElement("div",{className:j.a.fullFormStyle},l.a.createElement("h1",{className:j.a.formTitle},"Sign Up"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Username"),l.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),l.a.createElement("label",null,"Email Address"),l.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleChange}),l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",name:"checkPw",value:this.state.checkPw,onChange:this.handleChange}),l.a.createElement("div",null,l.a.createElement("p",{className:j.a.errorText},this.state.errorMessage)),l.a.createElement("div",{className:j.a.bottomText},l.a.createElement("p",null,"Already have an account?"),l.a.createElement(h.b,{to:"/login"},"Login here!")),l.a.createElement("button",{type:"submit",className:j.a.buttonStyle},"Sign Up")))}}]),a}(l.a.Component),F=Object(d.f)(z);var J=function(){return l.a.createElement("div",null,l.a.createElement(N,null),l.a.createElement(F,null))},q="https://us-central1-amiable-hydra-279814.cloudfunctions.net/app/api/read",B=function(e){return fetch(q+"/datetime/"+e).then((function(e){return e.json()}))};var Y={fontSize:"50px",marginRight:"20px",marginTop:"10px"},G=function(e){return console.log("here are the CheckData.js props: "+JSON.stringify(e)),e.current>=e.low&&e.current<=e.high?l.a.createElement("div",{style:Y},l.a.createElement("ion-icon",{name:"happy-outline",className:j.a.iconStyle})," "):e.current>=e.min&&e.current<=e.max?l.a.createElement("div",{style:Y},l.a.createElement("ion-icon",{name:"sad-outline",className:j.a.iconStyle})):l.a.createElement("div",{style:Y},l.a.createElement("ion-icon",{name:"skull-outline",className:j.a.iconStyle}))},V=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleImgSubmit=function(e){new FormData},n.state={unit:"",data:[],loading:!0,minmax:{temp:{min:"10",low:"16",high:"24",max:"30"},tempW:{min:"10",low:"16",high:"24",max:"30"},ph:{min:"3.5",low:"5",high:"6.5",max:"8"},h:{min:"50",low:"70",high:"90",max:"110"},ec:{min:"1",low:"1.5",high:"3.5",max:"4"}}},n.handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"getUnit",value:function(e){var t=this;T(e).then((function(e){t.setState({unit:e})}))}},{key:"getToday",value:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();return console.log("current date: "+t),t}},{key:"getSupragarden",value:function(){var e=this;B(this.getToday()).then((function(t){e.setState({data:t[0].data,loading:!1})}))}},{key:"getUnitId",value:function(){var e=window.location.href.split("/");return e[e.length-1]}},{key:"handleClick",value:function(e){e.preventDefault(),console.log("today: "+this.getToday()),console.log("window.location.href "+window.location.href),console.log("HERE ARE THE CURRENT PROPS "+JSON.stringify(this.props)),console.log("AND HERE IS THE ID "+JSON.stringify(this.props.match.params.unitid)),console.log("image url: "+JSON.stringify(this.state.unit.images)),console.log("garden info: "+JSON.stringify(this.state.data))}},{key:"componentDidMount",value:function(){var e=this.getUnitId();this.getUnit(e),this.getSupragarden()}},{key:"render",value:function(){var e=this;return!0===this.state.unit.supragarden?this.state.loading?l.a.createElement("p",null,"Loading..."):l.a.createElement("div",{className:j.a.contain},l.a.createElement("img",{src:function(t){return null!==e.state.unit.images.image_url?e.state.unit.images.image_url:""},alt:"No image",className:j.a.topImg}),l.a.createElement("h1",null,this.state.unit.nickname),l.a.createElement("button",{onClick:this.handleClick},"test"),l.a.createElement(h.b,{to:{pathname:"/unit/temperature/".concat(this.state.unit.unit_id),propperinos:{type:"temp",minmax:this.state.minmax.temp}},unitId:this.state.unit.unit_id,type:"temp"},l.a.createElement("div",{className:j.a.boxstyle3},l.a.createElement(G,{current:this.state.data.temp,min:this.state.minmax.temp.min,low:this.state.minmax.temp.low,high:this.state.minmax.temp.high,max:this.state.minmax.temp.max}),l.a.createElement("div",null,l.a.createElement("p",null,"Temperature"),l.a.createElement("p",{className:j.a.smallText},this.state.data.temp," C")))),l.a.createElement(h.b,{to:{pathname:"/unit/temperature/".concat(this.state.unit.unit_id),propperinos:{type:"tempW",minmax:this.state.minmax.tempW}}},l.a.createElement("div",{className:j.a.boxstyle3},l.a.createElement(G,{current:this.state.data.tempW,min:this.state.minmax.tempW.min,low:this.state.minmax.tempW.low,high:this.state.minmax.tempW.high,max:this.state.minmax.tempW.max}),l.a.createElement("div",null,l.a.createElement("p",null,"Water Temperature"),l.a.createElement("p",{className:j.a.smallText},this.state.data.tempW," C")))),l.a.createElement(h.b,{to:{pathname:"/unit/temperature/".concat(this.state.unit.unit_id),propperinos:{type:"ph",minmax:this.state.minmax.ph}}},l.a.createElement("div",{className:j.a.boxstyle3},l.a.createElement(G,{current:this.state.data.ph,min:this.state.minmax.ph.min,low:this.state.minmax.ph.low,high:this.state.minmax.ph.high,max:this.state.minmax.ph.max}),l.a.createElement("div",null,l.a.createElement("p",null,"PH"),l.a.createElement("p",{className:j.a.smallText},this.state.data.ph," ")))),l.a.createElement(h.b,{to:{pathname:"/unit/temperature/".concat(this.state.unit.unit_id),propperinos:{type:"h",minmax:this.state.minmax.h}}},l.a.createElement("div",{className:j.a.boxstyle3},l.a.createElement(G,{current:this.state.data.h,min:this.state.minmax.h.min,low:this.state.minmax.h.low,high:this.state.minmax.h.high,max:this.state.minmax.h.max}),l.a.createElement("div",null,l.a.createElement("p",null,"Humidity"),l.a.createElement("p",{className:j.a.smallText},this.state.data.h," %")))),l.a.createElement(h.b,{to:{pathname:"/unit/temperature/".concat(this.state.unit.unit_id),propperinos:{type:"ec",minmax:this.state.minmax.ec}}},l.a.createElement("div",{className:j.a.boxstyle3},l.a.createElement(G,{current:this.state.data.ec,min:this.state.minmax.ec.min,low:this.state.minmax.ec.low,high:this.state.minmax.ec.high,max:this.state.minmax.ec.max}),l.a.createElement("div",null,l.a.createElement("p",null,"Electronic Conductivity"),l.a.createElement("p",{className:j.a.smallText},this.state.data.ec," mS/cm"))))):l.a.createElement("div",{className:j.a.contain},l.a.createElement("img",{src:function(t){return null!==e.state.unit.images.image_url?e.state.unit.images.image_url:""},alt:"No image",className:j.a.topImg}),l.a.createElement("h1",null,this.state.unit.nickname),l.a.createElement("div",{className:j.a.boxstyle3},l.a.createElement("div",null,l.a.createElement("p",null,"Information"),l.a.createElement("p",{className:j.a.smallText},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."))))}}]),a}(l.a.Component);var K=function(e){return l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(N,null),l.a.createElement(V,e))},Q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={unit:"",data:[],loading:!0,type:"",title:"",xyz:"",goal:"",minmax:{min:"",low:"",high:"",max:""}},n.getUnit=n.getUnit.bind(Object(c.a)(n)),n.getType=n.getType.bind(Object(c.a)(n)),n.handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"getUnit",value:function(e){var t=this;console.log("props.unitid: "+e),T(e).then((function(e){t.setState({unit:e})}))}},{key:"getToday",value:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},{key:"getSupragarden",value:function(){var e=this;B(this.getToday()).then((function(t){e.setState({data:t[0].data,loading:!1})}))}},{key:"getUnitId",value:function(){var e=window.location.href.split("/");return e[e.length-1]}},{key:"getType",value:function(){void 0!==this.props.location.propperinos?this.setState({type:this.props.location.propperinos.type}):this.props.history.push("/")}},{key:"setDetails",value:function(){var e="",t="";void 0!==this.props.location.propperinos&&(e=this.props.location.propperinos.type,t=this.props.location.propperinos.minmax),"temp"===e?this.setState({title:"Temperature",xyz:"C",goal:"20",minmax:t}):"tempW"===e?this.setState({title:"Water Temperature",xyz:"C",goal:"20",minmax:t}):"ph"===e?this.setState({title:"PH",xyz:"",goal:"5,75",minmax:t}):"h"===e?this.setState({title:"Humidity",xyz:"%",goal:"80",minmax:t}):"ec"===e&&this.setState({title:"Electronic Conductivity",xyz:"mS/cm",goal:"2,5",minmax:t})}},{key:"handleClick",value:function(e){e.preventDefault(),console.log("t\xe4\xe4l\xe4 propsit: "+JSON.stringify(this.props.location.propperinos.type)),console.log("ja t\xe4\xe4l\xe4 statet: "+this.state.type),console.log("title and thing "+this.state.title+this.state.xyz)}},{key:"componentDidMount",value:function(){var e=this.getUnitId();this.getUnit(e),this.getSupragarden(),this.getType(),this.setDetails()}},{key:"render",value:function(){return this.state.loading?l.a.createElement("p",null,"Loading..."):l.a.createElement("div",{className:j.a.contain},l.a.createElement("h1",null,this.state.unit.nickname),l.a.createElement("div",{className:j.a.boxstyle},l.a.createElement(G,{current:this.state.data[this.state.type],min:this.state.minmax.min,low:this.state.minmax.low,high:this.state.minmax.high,max:this.state.minmax.max}),this.state.title),l.a.createElement("div",{className:j.a.statBoxes},l.a.createElement("div",{className:j.a.boxstyle4},l.a.createElement("p",null,"Current"),l.a.createElement("p",{className:j.a.smallText},this.state.data[this.state.type]," ",this.state.xyz)),l.a.createElement("div",{className:j.a.boxstyle4},l.a.createElement("p",null,"Goal"),l.a.createElement("p",{className:j.a.smallText},this.state.goal," ",this.state.xyz))),l.a.createElement("p",null,"graph"))}}]),a}(l.a.Component),X=Object(d.f)(Q);var Z=function(e){return l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(N,null),l.a.createElement(X,Object.assign({},e,{unitId:e.unit_id})))},$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.value,l=t.name;n.setState((function(e){return{unit:Object(M.a)(Object(M.a)({},e.unit),{},Object(p.a)({},l,a))}}))},n.toggleForm=function(e){n.setState((function(t){return{unit:Object(M.a)(Object(M.a)({},t.unit),{},{supragarden:!e}),formToggler:!e}}))},n.handleClick=function(e){e.preventDefault(),n.toggleForm(n.state.formToggler)},n.handleSubmit=function(e){e.preventDefault(),function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json",token:t},body:JSON.stringify(e)};return fetch("/api/growing_unit/",a).then((function(e){return e.json()}))}(Object(M.a)({},n.state.unit),localStorage.getItem("token")).then((function(e){console.log("msg from AddUnit: "+JSON.stringify(e)),console.log(" here is the state "+JSON.stringify(n.state.unit)),void 0!==e.error?n.setState({errorMessage:"Cannot add unit."}):n.props.history.push("/")}))},n.state={unit:{nickname:"",common_names:[],location:"",supragarden:!1,last_watered:"",watering_frequency:null,data_source:null,owner:localStorage.getItem("currentUser"),shared_access:[],stream_url:"",images:[]},formToggler:!1,errorMessage:""},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return!0===this.state.formToggler?l.a.createElement("div",{className:j.a.fullFormStyle},l.a.createElement("h1",null,"Add New Unit"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Nickname"),l.a.createElement("input",{type:"text",value:this.state.nickname,onChange:this.handleChange,name:"nickname"}),l.a.createElement("label",null,"Location"),l.a.createElement("input",{type:"text",value:this.state.location,onChange:this.handleChange,name:"location"}),l.a.createElement("label",null,"Is it a hydroponic system? (it currently is)"),l.a.createElement("button",{onClick:this.handleClick},"No"),l.a.createElement("p",null,"\n"),l.a.createElement("button",{type:"submit",className:j.a.buttonStyle},"Add Unit"))):l.a.createElement("div",{className:j.a.fullFormStyle},l.a.createElement("h1",null,"Add New Unit"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Nickname"),l.a.createElement("input",{type:"text",value:this.state.nickname,onChange:this.handleChange,name:"nickname"}),l.a.createElement("label",null,"Location"),l.a.createElement("input",{type:"text",value:this.state.location,onChange:this.handleChange,name:"location"}),l.a.createElement("label",null,"Is it a hydroponic system? (it currently is not)"),l.a.createElement("button",{onClick:this.handleClick},"Yes"),l.a.createElement("p",null,"\n"),l.a.createElement("button",{type:"submit",className:j.a.buttonStyle},"Add Unit")))}}]),a}(l.a.Component),ee=Object(d.f)($);var te=function(){return l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(N,{previous:""}),l.a.createElement(ee,null))};var ae=function(){return l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(N,null),l.a.createElement("p",null,"Here are the settings"))},ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={id:"",username:""},n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.showName=n.showName.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"doThing",value:function(e){var t=this;_(e).then((function(e){t.setState({username:e.username},(function(){console.log("username: ",t.state.username)}))}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.doThing(this.state.id)}},{key:"showName",value:function(e){console.log("username2: "+this.state.username)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(N,null),l.a.createElement("div",null,l.a.createElement("p",null,"\n"),l.a.createElement("p",null,"\n"),l.a.createElement("p",null,"\n"),l.a.createElement("h1",null,"IS THIS WORKING"),l.a.createElement("form",{onClick:this.handleSubmit},l.a.createElement("button",{type:"submit"},"get name to state")),l.a.createElement("button",{type:"submit",onClick:this.showName},"console log name"),l.a.createElement("embed",{src:"https://us-central1-amiable-hydra-279814.cloudfunctions.net/app/api/read",style:le})))}}]),a}(l.a.Component),le={width:"500px",height:"300px"},ie=ne,re=a(44),se=a(65),oe={TEMPERATURE:["Temperature","temp","\u2103"],TVOC:["TVOC","tvoc","ppm"],ELECTRICAL_CONDUCTIVITY:["Electrical Conductivity","ec",""],CO2:["CO2","co2","ppm"],PH:["pH","ph",""],HUMIDITY:["Humidity","h","%"],WATER_TEMPERATURE:["Water Temperature","tempW","\u2103"],LIGHT:["Light","light","on/off"]};var ce=function(e){var t=e.graphReadings,a=e.parameter,i=Object(n.useState)(a[0]),r=Object(g.a)(i,2),s=r[0],o=r[1],c=Object(n.useState)(a[1]),m=Object(g.a)(c,2),u=m[0],h=m[1],d=t.slice(0,50),p=d.map((function(e){return e.data.time.split(" ")[1].slice(0,5)})),E=d.map((function(e){return e.data["".concat(u)]})),b={labels:p,datasets:[{label:"".concat(s),data:Object(re.a)(E),pointHoverBackgroundColor:"rgba(170,25,127,1)"}]};return l.a.createElement("div",null,l.a.createElement("div",{className:"dropdown"},l.a.createElement("label",{htmlFor:"graphDataType"},"Select measurements "),l.a.createElement("select",{name:"graphDataType","data-testid":"search-criteria",id:"graphDataType",onChange:function(){var e=document.getElementById("graphDataType").value;h(oe["".concat(e)][1]),o(oe["".concat(e)][0]),console.log(e)}},Object(re.a)(Object.keys(oe)).map((function(e){var t="".concat(oe["".concat(e)][0]," ").concat(oe["".concat(e)][2]);return l.a.createElement("option",{value:e},t)})))),l.a.createElement(se.Line,{data:b}))},me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={readings:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(q).then((function(e){return e.json()})).then((function(t){return e.setState({readings:t})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"chart"},l.a.createElement(ce,{graphReadings:this.state.readings,parameter:oe.TEMPERATURE})))}}]),a}(n.Component),ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).setUser=function(e){n.setState({user:e}),console.log("setuser state",n.state.user)},n.state={user:null,units:[]},n.handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"handleClick",value:function(e){e.preventDefault(),console.log(this.state),console.log("users id: "+this.state.user.user_id)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"container"},l.a.createElement(h.a,{basename:"/alpome"},l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/",render:function(t){return l.a.createElement(A,Object.assign({},t,{user:e.state.user,units:e.state.units}))}}),l.a.createElement(d.a,{path:"/about",render:function(e){return l.a.createElement(L,e)}}),l.a.createElement(d.a,{path:"/login",render:function(t){return l.a.createElement(W,Object.assign({},t,{state:e.state,setUser:e.setUser}))}}),l.a.createElement(d.a,{path:"/signup",render:function(e){return l.a.createElement(J,e)}}),l.a.createElement(d.a,{exact:!0,path:"/unit/:unitid",render:function(t){return l.a.createElement(K,Object.assign({},t,{user:e.state.user}))}}),l.a.createElement(d.a,{path:"/unit/temperature/:id",render:function(t){return l.a.createElement(Z,Object.assign({},t,{units:e.state.units}))}}),l.a.createElement(d.a,{path:"/addnew",render:function(e){return l.a.createElement(te,e)}}),l.a.createElement(d.a,{path:"/graph",render:function(e){return l.a.createElement(me,e)}}),l.a.createElement(d.a,{path:"/settings",render:function(e){return l.a.createElement(ae,e)}}),l.a.createElement(d.a,{path:"/test8437586490743385891029748",render:function(e){return l.a.createElement(ie,e)}})))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,a){e.exports=a(171)},71:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.b31c3ae2.chunk.js.map